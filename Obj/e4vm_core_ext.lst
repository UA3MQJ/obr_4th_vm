                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.9.3 #11378 (MINGW32)
                              4 ;--------------------------------------------------------
                              5 	.module e4vm_core_ext
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _e4vm_core_ext__init
                             12 	.globl _e4vm_utils__init
                             13 	.globl _e4vm_utils_stack_ds_push
                             14 	.globl _e4vm_utils_add_op
                             15 	.globl _e4vm_type__init
                             16 	.globl _e4vm_core_ext_quit
                             17 	.globl _e4vm_core_ext_do_lit
                             18 	.globl _e4vm_core_ext_get_here_addr
                             19 	.globl _e4vm_core_ext_comma
                             20 	.globl _e4vm_core_ext_branch
                             21 ;--------------------------------------------------------
                             22 ; special function registers
                             23 ;--------------------------------------------------------
                             24 ;--------------------------------------------------------
                             25 ; ram data
                             26 ;--------------------------------------------------------
                             27 	.area _DATA
                             28 ;--------------------------------------------------------
                             29 ; ram data
                             30 ;--------------------------------------------------------
                             31 	.area _INITIALIZED
                             32 ;--------------------------------------------------------
                             33 ; absolute external ram data
                             34 ;--------------------------------------------------------
                             35 	.area _DABS (ABS)
                             36 ;--------------------------------------------------------
                             37 ; global & static initialisations
                             38 ;--------------------------------------------------------
                             39 	.area _HOME
                             40 	.area _GSINIT
                             41 	.area _GSFINAL
                             42 	.area _GSINIT
                             43 ;--------------------------------------------------------
                             44 ; Home
                             45 ;--------------------------------------------------------
                             46 	.area _HOME
                             47 	.area _HOME
                             48 ;--------------------------------------------------------
                             49 ; code
                             50 ;--------------------------------------------------------
                             51 	.area _CODE
                             52 ;e4vm_core_ext.c:22: void e4vm_core_ext_quit (e4vm_type_x4thPtr *v)
                             53 ;	---------------------------------
                             54 ; Function e4vm_core_ext_quit
                             55 ; ---------------------------------
   0000                      56 _e4vm_core_ext_quit::
                             57 ;e4vm_core_ext.c:24: }
   0000 DD E1         [14]   58 	pop	ix
   0002 C3r00r00      [10]   59 	jp	___sdcc_enter_ix
                             60 ;e4vm_core_ext.c:27: void e4vm_core_ext_do_lit (e4vm_type_x4thPtr *v)
                             61 ;	---------------------------------
                             62 ; Function e4vm_core_ext_do_lit
                             63 ; ---------------------------------
   0005                      64 _e4vm_core_ext_do_lit::
   0005 CDr00r00      [17]   65 	call	___sdcc_enter_ix
                             66 ;e4vm_core_ext.c:29: (*v)->ip = (*v)->ip + 1;
   0008 DD 4E 04      [19]   67 	ld	c, 4 (ix)
   000B DD 46 05      [19]   68 	ld	b, 5 (ix)
   000E 69            [ 4]   69 	ld	l, c
   000F 60            [ 4]   70 	ld	h, b
   0010 7E            [ 7]   71 	ld	a, (hl)
   0011 23            [ 6]   72 	inc	hl
   0012 66            [ 7]   73 	ld	h, (hl)
   0013 6F            [ 4]   74 	ld	l, a
   0014 5E            [ 7]   75 	ld	e, (hl)
   0015 23            [ 6]   76 	inc	hl
   0016 56            [ 7]   77 	ld	d, (hl)
   0017 2B            [ 6]   78 	dec	hl
   0018 13            [ 6]   79 	inc	de
   0019 7A            [ 4]   80 	ld	a, d
   001A 73            [ 7]   81 	ld	(hl), e
   001B 23            [ 6]   82 	inc	hl
   001C 77            [ 7]   83 	ld	(hl), a
                             84 ;e4vm_core_ext.c:30: e4vm_utils_stack_ds_push(v, (*v)->mem[(*v)->ip]);
   001D 69            [ 4]   85 	ld	l, c
   001E 60            [ 4]   86 	ld	h, b
   001F 7E            [ 7]   87 	ld	a, (hl)
   0020 23            [ 6]   88 	inc	hl
   0021 66            [ 7]   89 	ld	h, (hl)
   0022 6F            [ 4]   90 	ld	l, a
   0023 C6 8A         [ 7]   91 	add	a, #0x8a
   0025 5F            [ 4]   92 	ld	e, a
   0026 7C            [ 4]   93 	ld	a, h
   0027 CE 00         [ 7]   94 	adc	a, #0x00
   0029 57            [ 4]   95 	ld	d, a
   002A 7E            [ 7]   96 	ld	a, (hl)
   002B 23            [ 6]   97 	inc	hl
   002C 66            [ 7]   98 	ld	h, (hl)
   002D 6F            [ 4]   99 	ld	l, a
   002E 29            [11]  100 	add	hl, hl
   002F 19            [11]  101 	add	hl, de
   0030 5E            [ 7]  102 	ld	e, (hl)
   0031 23            [ 6]  103 	inc	hl
   0032 56            [ 7]  104 	ld	d, (hl)
   0033 D5            [11]  105 	push	de
   0034 C5            [11]  106 	push	bc
   0035 CDr00r00      [17]  107 	call	_e4vm_utils_stack_ds_push
   0038 F1            [10]  108 	pop	af
   0039 F1            [10]  109 	pop	af
                            110 ;e4vm_core_ext.c:31: }
   003A DD E1         [14]  111 	pop	ix
   003C C9            [10]  112 	ret
                            113 ;e4vm_core_ext.c:34: void e4vm_core_ext_get_here_addr (e4vm_type_x4thPtr *v)
                            114 ;	---------------------------------
                            115 ; Function e4vm_core_ext_get_here_addr
                            116 ; ---------------------------------
   003D                     117 _e4vm_core_ext_get_here_addr::
   003D CDr00r00      [17]  118 	call	___sdcc_enter_ix
                            119 ;e4vm_core_ext.c:36: e4vm_utils_stack_ds_push(v, (*v)->hereP);
   0040 DD 4E 04      [19]  120 	ld	c, 4 (ix)
   0043 DD 46 05      [19]  121 	ld	b, 5 (ix)
   0046 69            [ 4]  122 	ld	l, c
   0047 60            [ 4]  123 	ld	h, b
   0048 5E            [ 7]  124 	ld	e, (hl)
   0049 23            [ 6]  125 	inc	hl
   004A 66            [ 7]  126 	ld	h, (hl)
   004B 6B            [ 4]  127 	ld	l, e
   004C 11 88 00      [10]  128 	ld	de, #0x0088
   004F 19            [11]  129 	add	hl, de
   0050 5E            [ 7]  130 	ld	e, (hl)
   0051 23            [ 6]  131 	inc	hl
   0052 56            [ 7]  132 	ld	d, (hl)
   0053 D5            [11]  133 	push	de
   0054 C5            [11]  134 	push	bc
   0055 CDr00r00      [17]  135 	call	_e4vm_utils_stack_ds_push
   0058 F1            [10]  136 	pop	af
   0059 F1            [10]  137 	pop	af
                            138 ;e4vm_core_ext.c:37: }
   005A DD E1         [14]  139 	pop	ix
   005C C9            [10]  140 	ret
                            141 ;e4vm_core_ext.c:40: void e4vm_core_ext_comma (e4vm_type_x4thPtr *v)
                            142 ;	---------------------------------
                            143 ; Function e4vm_core_ext_comma
                            144 ; ---------------------------------
   005D                     145 _e4vm_core_ext_comma::
   005D CDr00r00      [17]  146 	call	___sdcc_enter_ix
                            147 ;e4vm_core_ext.c:42: (*v)->ds_p = (*v)->ds_p - 1;
   0060 DD 4E 04      [19]  148 	ld	c, 4 (ix)
   0063 DD 46 05      [19]  149 	ld	b, 5 (ix)
   0066 69            [ 4]  150 	ld	l, c
   0067 60            [ 4]  151 	ld	h, b
   0068 5E            [ 7]  152 	ld	e, (hl)
   0069 23            [ 6]  153 	inc	hl
   006A 56            [ 7]  154 	ld	d, (hl)
   006B 21 86 00      [10]  155 	ld	hl, #0x0086
   006E 19            [11]  156 	add	hl, de
   006F 5E            [ 7]  157 	ld	e, (hl)
   0070 23            [ 6]  158 	inc	hl
   0071 56            [ 7]  159 	ld	d, (hl)
   0072 2B            [ 6]  160 	dec	hl
   0073 1B            [ 6]  161 	dec	de
   0074 73            [ 7]  162 	ld	(hl), e
   0075 23            [ 6]  163 	inc	hl
   0076 72            [ 7]  164 	ld	(hl), d
                            165 ;e4vm_core_ext.c:43: e4vm_utils_add_op(v, (*v)->ds[(*v)->ds_p]);
   0077 69            [ 4]  166 	ld	l, c
   0078 60            [ 4]  167 	ld	h, b
   0079 7E            [ 7]  168 	ld	a, (hl)
   007A 23            [ 6]  169 	inc	hl
   007B 66            [ 7]  170 	ld	h, (hl)
   007C 6F            [ 4]  171 	ld	l, a
   007D C6 44         [ 7]  172 	add	a, #0x44
   007F 5F            [ 4]  173 	ld	e, a
   0080 7C            [ 4]  174 	ld	a, h
   0081 CE 00         [ 7]  175 	adc	a, #0x00
   0083 57            [ 4]  176 	ld	d, a
   0084 C5            [11]  177 	push	bc
   0085 01 86 00      [10]  178 	ld	bc, #0x0086
   0088 09            [11]  179 	add	hl, bc
   0089 C1            [10]  180 	pop	bc
   008A 7E            [ 7]  181 	ld	a, (hl)
   008B 23            [ 6]  182 	inc	hl
   008C 66            [ 7]  183 	ld	h, (hl)
   008D 6F            [ 4]  184 	ld	l, a
   008E 29            [11]  185 	add	hl, hl
   008F 19            [11]  186 	add	hl, de
   0090 5E            [ 7]  187 	ld	e, (hl)
   0091 23            [ 6]  188 	inc	hl
   0092 56            [ 7]  189 	ld	d, (hl)
   0093 D5            [11]  190 	push	de
   0094 C5            [11]  191 	push	bc
   0095 CDr00r00      [17]  192 	call	_e4vm_utils_add_op
   0098 F1            [10]  193 	pop	af
   0099 F1            [10]  194 	pop	af
                            195 ;e4vm_core_ext.c:44: }
   009A DD E1         [14]  196 	pop	ix
   009C C9            [10]  197 	ret
                            198 ;e4vm_core_ext.c:47: void e4vm_core_ext_branch (e4vm_type_x4thPtr *v)
                            199 ;	---------------------------------
                            200 ; Function e4vm_core_ext_branch
                            201 ; ---------------------------------
   009D                     202 _e4vm_core_ext_branch::
   009D CDr00r00      [17]  203 	call	___sdcc_enter_ix
                            204 ;e4vm_core_ext.c:49: (*v)->ip = (*v)->mem[(*v)->ip + 1] - 1;
   00A0 DD 6E 04      [19]  205 	ld	l, 4 (ix)
   00A3 DD 66 05      [19]  206 	ld	h, 5 (ix)
   00A6 4E            [ 7]  207 	ld	c, (hl)
   00A7 23            [ 6]  208 	inc	hl
   00A8 46            [ 7]  209 	ld	b, (hl)
   00A9 21 8A 00      [10]  210 	ld	hl, #0x008a
   00AC 09            [11]  211 	add	hl, bc
   00AD EB            [ 4]  212 	ex	de, hl
   00AE 0A            [ 7]  213 	ld	a, (bc)
   00AF 3C            [ 4]  214 	inc	a
   00B0 87            [ 4]  215 	add	a, a
   00B1 6F            [ 4]  216 	ld	l, a
   00B2 26 00         [ 7]  217 	ld	h, #0x00
   00B4 19            [11]  218 	add	hl, de
   00B5 5E            [ 7]  219 	ld	e, (hl)
   00B6 23            [ 6]  220 	inc	hl
   00B7 56            [ 7]  221 	ld	d, (hl)
   00B8 1B            [ 6]  222 	dec	de
   00B9 7B            [ 4]  223 	ld	a, e
   00BA 02            [ 7]  224 	ld	(bc), a
   00BB 03            [ 6]  225 	inc	bc
   00BC 7A            [ 4]  226 	ld	a, d
   00BD 02            [ 7]  227 	ld	(bc), a
                            228 ;e4vm_core_ext.c:50: }
   00BE DD E1         [14]  229 	pop	ix
   00C0 C9            [10]  230 	ret
                            231 ;e4vm_core_ext.c:54: export void *e4vm_core_ext__init (void)
                            232 ;	---------------------------------
                            233 ; Function e4vm_core_ext__init
                            234 ; ---------------------------------
   00C1                     235 _e4vm_core_ext__init::
                            236 ;e4vm_core_ext.c:56: __DEFMOD;
   00C1 21rC1r00      [10]  237 	LD	HL,#. 
   00C4 36 C9         [10]  238 	LD (HL),#0xC9 
                            239 ;e4vm_core_ext.c:59: __IMPORT(e4vm_type__init);
   00C6 CDr00r00      [17]  240 	call	_e4vm_type__init
                            241 ;e4vm_core_ext.c:60: __IMPORT(e4vm_utils__init);
                            242 ;e4vm_core_ext.c:64: }
   00C9 C3r00r00      [10]  243 	jp  _e4vm_utils__init
                            244 	.area _CODE
                            245 	.area _INITIALIZER
                            246 	.area _CABS (ABS)
